package net.frogmouth.rnd.jim.nitf;

import static org.testng.Assert.*;

import java.io.ByteArrayOutputStream;
import java.io.File;
import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.StandardOpenOption;
import net.frogmouth.rnd.jim.nitf.text.TextSegment;
import net.frogmouth.rnd.jim.nitf.tre.xmldca.XMLDCA;
import org.testng.annotations.Test;

public class WriterTest {

    public WriterTest() {}

    @Test
    public void fileHeader() throws IOException {
        ByteArrayOutputStream baos = new ByteArrayOutputStream();
        Nitf testNitf = new Nitf();
        Writer writer = new Writer();
        writer.write(testNitf, baos);
        assertEquals(
                baos.toByteArray(),
                new byte[] {
                    0x4e,
                    0x49,
                    0x54,
                    0x46,
                    0x30,
                    0x32,
                    0x2e,
                    0x31,
                    0x30,
                    0x30,
                    0x33,
                    0x42,
                    0x46,
                    0x30,
                    0x31,
                    0x4a,
                    0x49,
                    0x4d,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x32,
                    0x30,
                    0x32,
                    0x32,
                    0x31,
                    0x30,
                    0x30,
                    0x36,
                    0x30,
                    0x36,
                    0x30,
                    0x36,
                    0x35,
                    0x34,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x55,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    (byte) 0xFF,
                    (byte) 0xFF,
                    (byte) 0xFF,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    // File size
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x33,
                    0x38,
                    0x38,
                    // Header size
                    0x30,
                    0x30,
                    0x30,
                    0x33,
                    0x38,
                    0x38,
                    // Image segment count
                    0x30,
                    0x30,
                    0x30,
                    // Graphic segment count
                    0x30,
                    0x30,
                    0x30,
                    // Old symbol segment count
                    0x30,
                    0x30,
                    0x30,
                    // Text segment count
                    0x30,
                    0x30,
                    0x30,
                    // DES count
                    0x30,
                    0x30,
                    0x30,
                    // Reserved segment count
                    0x30,
                    0x30,
                    0x30,
                    // User defined header
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    // Extended header
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                });
        Files.write(
                new File("empty388.nitf").toPath(), baos.toByteArray(), StandardOpenOption.CREATE);
    }

    @Test
    public void twoTextSegments() throws IOException {
        ByteArrayOutputStream baos = new ByteArrayOutputStream();
        TextSegment textSegment1 = new TextSegment();
        textSegment1.setIdentifier("TXT0001");
        textSegment1.setBody("AB");
        textSegment1.setDateTime(new JBPDateTime(20, 21, null, null, null, null, null));
        XMLDCA xmldca = new XMLDCA();
        // TODO: more properties, maybe more instances
        xmldca.setBody("<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<test/>");
        textSegment1.addExtension(xmldca);
        TextSegment textSegment2 = new TextSegment();
        textSegment2.setIdentifier("TXT0002");
        textSegment2.setDateTime(new JBPDateTime(20, 22, 10, 5, 23, 14, 1));
        textSegment2.setTitle("Segment 2 Title");
        textSegment2.setBody("C");
        Nitf testNitf = new Nitf();
        testNitf.addTextSegment(textSegment1);
        testNitf.addTextSegment(textSegment2);
        Writer writer = new Writer();
        writer.write(testNitf, baos);
        assertEquals(
                baos.toByteArray(),
                new byte[] {
                    0x4e,
                    0x49,
                    0x54,
                    0x46,
                    0x30,
                    0x32,
                    0x2e,
                    0x31,
                    0x30,
                    0x30,
                    0x33,
                    0x42,
                    0x46,
                    0x30,
                    0x31,
                    0x4a,
                    0x49,
                    0x4d,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x32,
                    0x30,
                    0x32,
                    0x32,
                    0x31,
                    0x30,
                    0x30,
                    0x36,
                    0x30,
                    0x36,
                    0x30,
                    0x36,
                    0x35,
                    0x34,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x55,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    (byte) 0xFF,
                    (byte) 0xFF,
                    (byte) 0xFF,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    // File size
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x31, // Offset 350
                    0x30,
                    0x33,
                    0x37,
                    // Header size
                    0x30,
                    0x30,
                    0x30,
                    0x34,
                    0x30,
                    0x36,
                    // Image segment count
                    0x30,
                    0x30,
                    0x30,
                    // Graphic segment count
                    0x30,
                    0x30,
                    0x30,
                    // Old symbol segment count
                    0x30,
                    0x30,
                    0x30,
                    // Text segment count
                    0x30,
                    0x30,
                    0x32,
                    // TODO: proper text segment sizes
                    // First text segment sizes
                    0x30,
                    0x33, // Offset 373
                    0x34,
                    0x36,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x32,
                    // Second text segment sizes
                    0x30,
                    0x32,
                    0x38,
                    0x32,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x31,
                    // DES count
                    0x30,
                    0x30,
                    0x30,
                    // Reserved segment count
                    0x30,
                    0x30,
                    0x30,
                    // User defined header
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    // Extended header
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    // Text segment #1 header and body
                    0x54,
                    0x45,
                    0x54,
                    0x58,
                    0x54,
                    0x30,
                    0x30,
                    0x30,
                    0x31,
                    0x30,
                    0x30,
                    0x30,
                    // TXTDT start
                    0x32,
                    0x30,
                    0x32,
                    0x31,
                    0x2d,
                    0x2d,
                    0x2d,
                    0x2d,
                    0x2d,
                    0x2d,
                    0x2d,
                    0x2d,
                    0x2d,
                    0x2d,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x55,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x30,
                    0x53,
                    0x54,
                    0x41,
                    0x30,
                    0x30,
                    0x30,
                    0x36,
                    0x34,
                    0x30,
                    0x30,
                    0x30,
                    0x58,
                    0x4d,
                    0x4c,
                    0x44,
                    0x43,
                    0x41,
                    0x30,
                    0x30,
                    0x30,
                    0x35, // offset 700
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x3c,
                    0x3f,
                    0X78,
                    0x6D,
                    0X6C,
                    0X20,
                    0X76,
                    0X65,
                    0X72,
                    0X73,
                    0X69,
                    0X6F,
                    0X6E,
                    0X3D,
                    0X22,
                    0X31,
                    0X2E,
                    0X30,
                    0X22,
                    0X20,
                    0X65,
                    0X6E,
                    0X63,
                    0X6F,
                    0X64,
                    0X69,
                    0X6E,
                    0X67,
                    0X3D,
                    0X22,
                    0X55,
                    0X54,
                    0X46,
                    0X2D,
                    0X38,
                    0X22,
                    0X3F,
                    0X3E,
                    0X0A,
                    0X3C,
                    0X74,
                    0X65,
                    0X73,
                    0X74,
                    0X2F,
                    0X3E,
                    0x41,
                    0x42,
                    // Text segment #2 header and body
                    0x54,
                    0x45,
                    0x54,
                    0x58,
                    0x54,
                    0x30,
                    0x30,
                    0x30,
                    0x32,
                    0x30,
                    0x30,
                    0x30,
                    // Date Time start
                    0x32,
                    0x30,
                    0x32,
                    0x32,
                    0x31,
                    0x30,
                    0x30,
                    0x35,
                    0x32,
                    0x33,
                    0x31,
                    0x34,
                    0x30,
                    0x31,
                    0x53,
                    0X65,
                    0X67,
                    0X6D,
                    0X65,
                    0X6E,
                    0X74,
                    0X20,
                    0X32,
                    0X20,
                    0X54,
                    0X69,
                    0X74,
                    0X6C,
                    0X65,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x55,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x20,
                    0x30,
                    0x53,
                    0x54,
                    0x41,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x30,
                    0x43,
                });
        Files.write(
                new File("twoTextSegments.nitf").toPath(),
                baos.toByteArray(),
                StandardOpenOption.CREATE);
    }
}
